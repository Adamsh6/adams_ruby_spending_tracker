<h2>Total Spent <%= @transaction_total %></h2>

<form class="sort" action="/transactions/sort" method="get">
  <input type="submit" value="Sort by date">
  <input type="submit" value="Sort by amount" formaction="/transactions/sort_by_amount">
</form>

<form action="/transactions/filter" method="get">
  <select name="merchant_id" id="merchants">
    <option value=0>All</option>
    <% for merchant in @merchants %>
    <option value="<%= merchant.id %>"><%= merchant.name %></option>
    <% end %>
  </select>

  <select name="tag_id" id="tags">
    <option value=0>All</option>
    <% for tag in @tags %>
    <option value="<%= tag.id %>"><%= tag.name %></option>
    <% end %>
  </select>

  <label for="lower">Lower Limit</label>
  <input id="lower" type="number" step="1" min="0" name="lower" value="0" required>
  <label for="upper">Upper Limit</label>
  <input id="upper" type="number" step="1" min="1" name="upper" value="1000" required>
  <label for="sort">Sort by most expensive?</label>
  <input type="checkbox" id="sort" name="sort" value=true>
  <input type="submit" value="Filter">


</form>

<form action="/transactions/filter_month" method="get">
  <select name="month" id="month">
    <% for month in @months %>
    <option value="<%= month %>"><%= month %></option>
    <% end %>
  </select>
  <input type="submit" value="Filter month" />
  </form>

<div class="transaction--container">
  <% for transaction in @transactions %>
  <div class="transaction--box">
    <p><%= transaction.time_stamp %></p>
    <p><%= transaction.merchant.name %> :<span style="color:<%= transaction.tag.color%>;"><%= transaction.tag.name %></span></p>
    <p><%= transaction.amount %></p>
    <form class="delete" action="<%= transaction.id %>/delete" method="post">
      <input type="submit" value="Remove Transaction">
    </form>
  </div>
  <% end %>
</div>
